@using HomeRentTracker.Models.RenterEntity
@model RenterInfo
@* 
<h2>Create Renter</h2>
<form asp-action="Create">
    <div class="form-group">
        <label asp-for="GuradianName"></label>
        <input asp-for="GuradianName" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianPhone"></label>
        <input asp-for="GuradianPhone" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianEmail"></label>
        <input asp-for="GuradianEmail" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuardialNID"></label>
        <input asp-for="GuardialNID" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuardialProfession"></label>
        <input asp-for="GuardialProfession" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianAddress"></label>
        <input asp-for="GuradianAddress" class="form-control" />
    </div>
    <hr />
    <div class="form-group">
        <label asp-for="RenterName"></label>
        <input asp-for="RenterName" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterPhone"></label>
        <input asp-for="RenterPhone" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterEmail"></label>
        <input asp-for="RenterEmail" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterNID"></label>
        <input asp-for="RenterNID" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterAddress"></label>
        <input asp-for="RenterAddress" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="TotalMember"></label>
        <input asp-for="TotalMember" class="form-control" />
    </div>
    <button type="submit" class="btn btn-success">Save</button>
</form>

 *@
 

<h2>Create Renter</h2>
<form asp-action="Create">
    <div class="form-group">
        <label asp-for="GuradianName"></label>
        <input asp-for="GuradianName" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianPhone"></label>
        <input asp-for="GuradianPhone" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianEmail"></label>
        <input asp-for="GuradianEmail" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuardialNID"></label>
        <input asp-for="GuardialNID" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuardialProfession"></label>
        <input asp-for="GuardialProfession" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="GuradianAddress"></label>
        <input asp-for="GuradianAddress" class="form-control" />
    </div>
    <hr />
    <div class="form-group">
        <label asp-for="RenterName"></label>
        <input asp-for="RenterName" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterPhone"></label>
        <input asp-for="RenterPhone" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterEmail"></label>
        <input asp-for="RenterEmail" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterNID"></label>
        <input asp-for="RenterNID" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="RenterAddress"></label>
        <input asp-for="RenterAddress" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="TotalMember"></label>
        <input asp-for="TotalMember" class="form-control" />
    </div>
    <hr />

    <h4>Member Info</h4>
    <div id="memberList"></div>
    <button type="button" class="btn btn-secondary" id="addMemberBtn">+ Add Member</button>

    <br /><br />
    <button type="submit" class="btn btn-success">Save</button>
</form>


@section Scripts {
    <script>
        let memberIndex = 0;
        document.getElementById('addMemberBtn').addEventListener('click', function () {
            const container = document.createElement('div');
            container.classList.add('member-item', 'border', 'p-3', 'mb-2');
            container.innerHTML = `
                <div class="form-group">
                    <label>Member Name</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberName" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Member Age</label>
                    <input type="number" name="MemberInfo[${memberIndex}].MemberAge" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberPhone" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberEmail" class="form-control" />
                </div>
                <div class="form-group">
                    <label>NID</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberNID" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberAddress" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Profession</label>
                    <input type="text" name="MemberInfo[${memberIndex}].MemberProfession" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Guardian ID</label>
                    <input type="text" name="MemberInfo[${memberIndex}].GuardianID" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Guardian NID</label>
                    <input type="text" name="MemberInfo[${memberIndex}].GuardialNID" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Relation With Guardian</label>
                    <input type="text" name="MemberInfo[${memberIndex}].RelationWithGuardian" class="form-control" />
                </div>
                <button type="button" class="btn btn-danger remove-member">Remove</button>
            `;

            document.getElementById('memberList').appendChild(container);
            memberIndex++;
        });

        document.getElementById('memberList').addEventListener('click', function (e) {
            if (e.target.classList.contains('remove-member')) {
                e.target.closest('.member-item').remove();
            }
        });
    </script>
}
